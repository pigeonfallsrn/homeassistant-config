title: Kitchen Tablet
kiosk_mode:
  non_admin_user: true
  hide_header: true
  hide_sidebar: true
  hide_menubutton: true
  hide_overflow: true

views:
  - title: Home
    path: home
    panel: true
    cards:
      - type: vertical-stack
        cards:
          # HEADER ROW
          - type: custom:mushroom-chips-card
            alignment: justify
            chips:
              - type: weather
                entity: weather.forecast_home
                show_conditions: true
                show_temperature: true
              - type: template
                content: "{{ now().strftime('%I:%M %p') }}"
                icon: mdi:clock-outline
              - type: conditional
                conditions:
                  - condition: state
                    entity: cover.garage_north_garage_door_ratgdo32disco_door
                    state: open
                chip:
                  type: template
                  icon: mdi:garage-open-variant
                  icon_color: red
                  content: "North"
                  tap_action:
                    action: call-service
                    service: cover.close_cover
                    target:
                      entity_id: cover.garage_north_garage_door_ratgdo32disco_door
              - type: conditional
                conditions:
                  - condition: state
                    entity: cover.garage_south_garage_door_ratgdo32disco_door
                    state: open
                chip:
                  type: template
                  icon: mdi:garage-open-variant
                  icon_color: red
                  content: "South"
                  tap_action:
                    action: call-service
                    service: cover.close_cover
                    target:
                      entity_id: cover.garage_south_garage_door_ratgdo32disco_door
              - type: conditional
                conditions:
                  - condition: state
                    entity: person.john_spencer
                    state: home
                chip:
                  type: template
                  icon: mdi:account
                  icon_color: green
                  content: "John"
              - type: conditional
                conditions:
                  - condition: state
                    entity: person.alaina_spencer
                    state: home
                chip:
                  type: template
                  icon: mdi:account
                  icon_color: cyan
                  content: "Alaina"
              - type: conditional
                conditions:
                  - condition: state
                    entity: person.ella_spencer
                    state: home
                chip:
                  type: template
                  icon: mdi:account
                  icon_color: pink
                  content: "Ella"
              - type: conditional
                conditions:
                  - condition: state
                    entity: binary_sensor.navien_running_2
                    state: "on"
                chip:
                  type: template
                  icon: mdi:water-boiler
                  icon_color: orange
                  content: "{{ states('sensor.navien_water_flow') | round(1) }} gpm"

          # MAIN CONTENT - TWO COLUMNS
          - type: horizontal-stack
            cards:
              # LEFT COLUMN - Calendar + Climate
              - type: vertical-stack
                cards:
                  - type: custom:atomic-calendar-revive
                    entities:
                      - entity: calendar.alaina_ella
                        color: '#4FC3F7'
                        name: Kids
                    name: Alaina & Ella
                    maxDaysToShow: 14
                    maxEventCount: 6
                    showNoEventsForToday: true
                    noEventsForTodayText: "No events today"
                    showMonth: true
                    showWeekDay: true
                    dateFormat: ddd M/D
                    timeFormat: h:mm A
                    showCurrentEventLine: true
                    sortByStartTime: true
                    dimFinishedEvents: true
                  # CLIMATE
                  - type: custom:mushroom-title-card
                    title: Climate
                  - type: horizontal-stack
                    cards:
                      - type: custom:mushroom-climate-card
                        entity: climate.1st_floor_nest_thermostat
                        name: 1st Floor
                        show_temperature_control: true
                        collapsible_controls: true
                      - type: custom:mushroom-climate-card
                        entity: climate.kitchen_mini_split
                        name: Mini Split
                        show_temperature_control: true
                        collapsible_controls: true

              # RIGHT COLUMN - Lights + Media
              - type: vertical-stack
                cards:
                  - type: custom:mushroom-title-card
                    title: Kitchen Lights
                  - type: custom:mushroom-chips-card
                    alignment: center
                    chips:
                      - type: light
                        entity: light.kitchen_ceiling_inovelli_vzm31_sn
                        use_light_color: true
                        icon: mdi:ceiling-light
                        tap_action:
                          action: toggle
                      - type: light
                        entity: light.kitchen_above_table_chandelier_inovelli
                        use_light_color: true
                        icon: mdi:chandelier
                        tap_action:
                          action: toggle
                      - type: light
                        entity: light.above_kitchen_sink_inovelli_switch
                        use_light_color: true
                        icon: mdi:water
                        tap_action:
                          action: toggle
                      - type: light
                        entity: light.kitchen_lounge_lamp
                        use_light_color: true
                        icon: mdi:lamp
                        tap_action:
                          action: toggle
                      - type: light
                        entity: light.kitchen_lounge_inovelli_smart_dimmer
                        use_light_color: true
                        icon: mdi:sofa
                        tap_action:
                          action: toggle
                  # Scene Buttons
                  - type: horizontal-stack
                    cards:
                      - type: custom:mushroom-template-card
                        primary: Cooking
                        icon: mdi:stove
                        icon_color: amber
                        layout: vertical
                        tap_action:
                          action: call-service
                          service: script.turn_on
                          service_data:
                            entity_id: script.kitchen_scene_cooking_bright
                      - type: custom:mushroom-template-card
                        primary: Dinner
                        icon: mdi:candle
                        icon_color: orange
                        layout: vertical
                        tap_action:
                          action: call-service
                          service: script.turn_on
                          service_data:
                            entity_id: script.kitchen_scene_dinner_dim
                      - type: custom:mushroom-template-card
                        primary: Movie
                        icon: mdi:movie-open
                        icon_color: purple
                        layout: vertical
                        tap_action:
                          action: call-service
                          service: script.turn_on
                          service_data:
                            entity_id: script.kitchen_scene_movie_night
                      - type: custom:mushroom-template-card
                        primary: "Off"
                        icon: mdi:lightbulb-off
                        icon_color: grey
                        layout: vertical
                        tap_action:
                          action: call-service
                          service: script.turn_on
                          service_data:
                            entity_id: script.kitchen_scene_all_off
                  # MEDIA PLAYER
                  - type: custom:mushroom-title-card
                    title: Music
                  - type: custom:mushroom-media-player-card
                    entity: media_player.kitchen_sonos_beam
                    name: Kitchen Sonos
                    use_media_info: true
                    show_volume_level: true
                    volume_controls:
                      - volume_buttons
                      - volume_set
                    media_controls:
                      - play_pause_stop
                      - previous
                      - next
                  # Quick Music Buttons
                  - type: horizontal-stack
                    cards:
                      - type: custom:mushroom-template-card
                        primary: Chill
                        icon: mdi:music
                        icon_color: blue
                        layout: vertical
                        tap_action:
                          action: call-service
                          service: script.turn_on
                          service_data:
                            entity_id: script.kitchen_play_chill
                      - type: custom:mushroom-template-card
                        primary: Dinner
                        icon: mdi:silverware-fork-knife
                        icon_color: orange
                        layout: vertical
                        tap_action:
                          action: call-service
                          service: script.turn_on
                          service_data:
                            entity_id: script.kitchen_play_dinner
                      - type: custom:mushroom-template-card
                        primary: Kids
                        icon: mdi:balloon
                        icon_color: pink
                        layout: vertical
                        tap_action:
                          action: call-service
                          service: script.turn_on
                          service_data:
                            entity_id: script.kitchen_play_kids
                      - type: custom:mushroom-template-card
                        primary: Stop
                        icon: mdi:stop
                        icon_color: red
                        layout: vertical
                        tap_action:
                          action: call-service
                          service: script.turn_on
                          service_data:
                            entity_id: script.kitchen_sonos_stop

          # BOTTOM ROW - Status
          - type: horizontal-stack
            cards:
              - type: custom:mushroom-chips-card
                alignment: justify
                chips:
                  - type: template
                    icon: mdi:thermometer
                    content: "1st: {{ states('sensor.first_floor_thermostat_temperature') | round(0) }}°"
                  - type: template
                    icon: mdi:thermometer
                    content: "Bsmt: {{ states('sensor.basement_nest_thermostat_temperature') | round(0) }}°"
                  - type: template
                    icon: mdi:thermometer
                    content: "2nd: {{ states('sensor.master_nest_thermostat_temperature') | round(0) }}°"
                  - type: template
                    icon: mdi:warehouse
                    icon_color: "{% set e = states('sensor.pfp_east_nest_thermostat_temperature_sensor') | float(40) %}{% set w = states('sensor.pfp_west_nest_sensor_temperature') | float(40) %}{% if e < 35 or w < 35 %}red{% elif e < 42 or w < 42 %}orange{% else %}green{% endif %}"
                    content: "PFP: {{ states('sensor.pfp_east_nest_thermostat_temperature_sensor') | round(0) }}°/{{ states('sensor.pfp_west_nest_sensor_temperature') | round(0) }}°"
                  - type: template
                    entity: todo.shopping_list
                    icon: mdi:cart
                    content: "List"
                    tap_action:
                      action: more-info
                      entity: todo.shopping_list
