title: Climate Command Center
views:
  - title: Climate
    path: climate
    cards:
      # =====================================================================
      # ROW 1: NAVIEN BOILER
      # =====================================================================
      - type: vertical-stack
        cards:
          - type: custom:mushroom-title-card
            title: "üî• Navien Combi Boiler"
            subtitle: "DHW + Hydronic Heat"
          
          - type: horizontal-stack
            cards:
              - type: gauge
                entity: water_heater.navi_link_wifi_module
                attribute: current_temperature
                name: "DHW Now"
                min: 70
                max: 140
                severity:
                  green: 110
                  yellow: 90
                  red: 70
                needle: true
              
              - type: gauge
                entity: water_heater.navi_link_wifi_module
                attribute: temperature
                name: "Target"
                min: 70
                max: 140
                needle: true

          - type: custom:mini-graph-card
            name: "Boiler Power (24hr)"
            entities:
              - entity: sensor.basement_boiler_room_navien_combi_boiler_aqara_smart_plug_power
                name: Power
                color: "#ff6b35"
            hours_to_show: 24
            points_per_hour: 4
            line_width: 2
            height: 100
            show:
              labels: true
              points: false
              legend: false

      # =====================================================================
      # ROW 2: NEST THERMOSTATS GRID
      # =====================================================================
      - type: custom:mushroom-title-card
        title: "üè† Heating Zones (Navien Hydronic)"

      - type: horizontal-stack
        cards:
          - type: custom:mushroom-climate-card
            entity: climate.1st_floor_thermostat
            name: "1st Floor"
            icon: mdi:home-floor-1
            show_temperature_control: true
            
          - type: custom:mushroom-climate-card
            entity: climate.master_nest_thermostat
            name: "2nd Floor"
            icon: mdi:home-floor-2
            show_temperature_control: true

      - type: horizontal-stack
        cards:
          - type: custom:mushroom-climate-card
            entity: climate.basement_nest_thermostat
            name: "Basement"
            icon: mdi:home-floor-b
            show_temperature_control: true

          - type: custom:mushroom-climate-card
            entity: climate.garage_nest_thermostat
            name: "Garage"
            icon: mdi:garage
            show_temperature_control: true

      # =====================================================================
      # ROW 3: MINI-SPLITS
      # =====================================================================
      - type: custom:mushroom-title-card
        title: "‚ùÑÔ∏è Mini-Splits (Mitsubishi)"

      - type: horizontal-stack
        cards:
          - type: custom:mushroom-climate-card
            entity: climate.kitchen_mini_split
            name: "Kitchen"
            icon: mdi:countertop
            show_temperature_control: true
            collapsible_controls: true

          - type: custom:mushroom-climate-card
            entity: climate.living_room_mini_split
            name: "Living Rm"
            icon: mdi:sofa
            show_temperature_control: true
            collapsible_controls: true

      - type: horizontal-stack
        cards:
          - type: custom:mushroom-climate-card
            entity: climate.upstairs_hallway_mini_split
            name: "Upstairs"
            icon: mdi:stairs
            show_temperature_control: true
            collapsible_controls: true

          - type: custom:mushroom-climate-card
            entity: climate.attic_mini_split
            name: "Attic"
            icon: mdi:home-roof
            show_temperature_control: true
            collapsible_controls: true

      # =====================================================================
      # ROW 4: TEMPERATURE GRAPH
      # =====================================================================
      - type: custom:mushroom-title-card
        title: "üå°Ô∏è Temperature Trends (24hr)"

      - type: custom:mini-graph-card
        entities:
          - entity: sensor.first_floor_thermostat_temperature
            name: "1st Floor"
            color: "#4CAF50"
          - entity: sensor.master_nest_thermostat_temperature
            name: "2nd Floor"
            color: "#2196F3"
          - entity: sensor.basement_thermostat_temperature
            name: "Basement"
            color: "#9C27B0"
          - entity: sensor.garage_thermostat_temperature
            name: "Garage"
            color: "#FF9800"
        hours_to_show: 24
        points_per_hour: 4
        line_width: 2
        height: 150
        show:
          labels: true
          points: false
          legend: true
        lower_bound: 45
        upper_bound: 80

      # =====================================================================
      # ROW 5: HUMIDITY
      # =====================================================================
      - type: custom:mushroom-title-card
        title: "üíß Humidity (Target: 30-50%)"
        subtitle: "‚ö†Ô∏è Currently LOW - Winter Dry Air"

      - type: horizontal-stack
        cards:
          - type: entity
            entity: sensor.master_nest_thermostat_humidity
            name: "2nd Fl"
            icon: mdi:water-percent
          - type: entity
            entity: sensor.first_floor_thermostat_humidity
            name: "1st Fl"
            icon: mdi:water-percent
          - type: entity
            entity: sensor.basement_thermostat_humidity
            name: "Bsmt"
            icon: mdi:water-percent
          - type: entity
            entity: sensor.garage_thermostat_humidity
            name: "Garage"
            icon: mdi:water-percent

      - type: custom:mini-graph-card
        name: "Humidity Trend"
        entities:
          - entity: sensor.master_nest_thermostat_humidity
            name: "2nd Floor"
            color: "#2196F3"
          - entity: sensor.first_floor_thermostat_humidity
            name: "1st Floor"
            color: "#4CAF50"
          - entity: sensor.basement_thermostat_humidity
            name: "Basement"
            color: "#9C27B0"
        hours_to_show: 24
        points_per_hour: 2
        line_width: 2
        height: 120
        show:
          labels: true
          legend: true
        lower_bound: 15
        upper_bound: 50

      # =====================================================================
      # ROW 6: ROOM SENSORS (AQARA)
      # =====================================================================
      - type: custom:mushroom-title-card
        title: "üè† Room Sensors (Aqara)"

      - type: horizontal-stack
        cards:
          - type: custom:mushroom-entity-card
            entity: sensor.aqara_temp_humidity_sensor_temperature
            name: "Alaina"
            icon: mdi:bed
            primary_info: state
            secondary_info: name

          - type: custom:mushroom-entity-card
            entity: sensor.aqara_temp_humidity_sensor_temperature_5
            name: "Ella"
            icon: mdi:bed
            primary_info: state
            secondary_info: name

          - type: custom:mushroom-entity-card
            entity: sensor.1st_floor_bathroom_vanity_lights_temperature
            name: "1st Bath"
            icon: mdi:shower
            primary_info: state
            secondary_info: name

          - type: custom:mushroom-entity-card
            entity: sensor.aqara_temp_humidity_sensor_temperature_4
            name: "2nd Bath"
            icon: mdi:shower
            primary_info: state
            secondary_info: name

      - type: horizontal-stack
        cards:
          - type: custom:mushroom-entity-card
            entity: sensor.aqara_temp_humidity_sensor_temperature_2
            name: "Basement"
            icon: mdi:home-floor-b
            primary_info: state
            secondary_info: name

          - type: custom:mushroom-entity-card
            entity: sensor.aqara_temp_humidity_sensor_temperature_7
            name: "Outside"
            icon: mdi:thermometer
            primary_info: state
            secondary_info: name

          - type: custom:mushroom-entity-card
            entity: sensor.upstairs_bathroom_echo_plus_temperature_2
            name: "Echo Temp"
            icon: mdi:amazon
            primary_info: state
            secondary_info: name

          - type: entity
            entity: sensor.basement_boiler_room_navien_combi_boiler_aqara_smart_plug_energy
            name: "Boiler kWh"
            icon: mdi:lightning-bolt

      # =====================================================================
      # ROW 7: QUICK ACTIONS
      # =====================================================================
      - type: custom:mushroom-title-card
        title: "‚ö° Quick Actions"

      - type: horizontal-stack
        cards:
          - type: custom:mushroom-template-card
            primary: "All Heat 68¬∞"
            secondary: "Main zones"
            icon: mdi:thermometer
            icon_color: red
            tap_action:
              action: call-service
              service: climate.set_temperature
              target:
                entity_id:
                  - climate.1st_floor_thermostat
                  - climate.master_nest_thermostat
                  - climate.basement_nest_thermostat
              data:
                temperature: 68

          - type: custom:mushroom-template-card
            primary: "Away Mode 62¬∞"
            secondary: "Save energy"
            icon: mdi:home-export-outline
            icon_color: blue
            tap_action:
              action: call-service
              service: climate.set_temperature
              target:
                entity_id:
                  - climate.1st_floor_thermostat
                  - climate.master_nest_thermostat
                  - climate.basement_nest_thermostat
              data:
                temperature: 62

          - type: custom:mushroom-template-card
            primary: "Night Mode 65¬∞"
            secondary: "Sleep temps"
            icon: mdi:weather-night
            icon_color: purple
            tap_action:
              action: call-service
              service: climate.set_temperature
              target:
                entity_id:
                  - climate.1st_floor_thermostat
                  - climate.master_nest_thermostat
              data:
                temperature: 65

          - type: custom:mushroom-entity-card
            entity: switch.upstairs_bathroom_fan
            name: "Bath Fan"
            icon: mdi:fan
            tap_action:
              action: toggle
